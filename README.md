# htm-preact-osagai ‚öõÔ∏èüÄÑÔ∏è

Define your Web component with [Osagai](http://osagai.js.org) using [htm](https://github.com/developit/htm) and [Preact](https://preactjs.com/)

## Install

You can get it on npm.

```sh
npm install htm-preact-osagai
```

Or import from unpkg

```js
import {
  define,
  html
} from "https://unpkg.com/htm-preact-osagai/dist/htm-preact-osagai.mjs";
```

## Example

```html
<!DOCTYPE html>
<html lang="en">
  <todo-list></todo-list>

  <script type="module">
    import {
      define,
      html,
      Component
    } from "https://unpkg.com/htm-preact-osagai/dist/htm-preact-osagai.mjs";

    class App extends Component {
      addTodo() {
        const { todos = [] } = this.state;
        this.setState({ todos: todos.concat(`Item ${todos.length}`) });
      }
      render({ page }, { todos = [] }) {
        return html`
          <div class="app">
            <${Header} name="ToDo's (${page})" />
            <ul>
              ${todos.map(
                todo => html`
                  <li>${todo}</li>
                `
              )}
            </ul>
            <button onClick=${() => this.addTodo()}>Add Todo</button>
          </div>
        `;
      }
    }

    const Header = ({ name }) =>
      html`
        <h1>${name} List</h1>
      `;

    function TodoList() {
      return () =>
        html`
          <${App} page="All" />
        `;
    }
    define("todo-list", TodoList);
  </script>
</html>
```

---

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

- [define](#define)
  - [Parameters](#parameters)
- [html](#html)
  - [Parameters](#parameters-1)
- [Component](#component)
- [attachShadow](#attachshadow)
- [onConnected](#onconnected)
  - [Parameters](#parameters-2)
- [onDisconnected](#ondisconnected)
  - [Parameters](#parameters-3)
- [onAttributeChanged](#onattributechanged)
  - [Parameters](#parameters-4)

### define

Define a new custom element

#### Parameters

- `name` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name for the new custom element. Note that custom element names must contain a hyphen (ex. hello-world)
- `Component` **OsagaiComponent** Function that will return a Template function that defines the layout of your custom element. [Reference](https://osagai.js.org/docs/api-reference/osagai/#overview)
- `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Configuration options from Osagai and custom elements. [Reference](https://osagai.js.org/docs/api-reference/osagai/#define)

### html

Template tag used to produce objects in the Preact format

#### Parameters

- `strings` **TemplateStringsArray**

Returns **TemplateResult**

### Component

Component is a base class that you will usually subclass to create stateful Preact components.
[Preact API reference](https://preactjs.com/guide/api-reference)

### attachShadow

Attach a shadow dom in the element. More at [Osagai docs](https://osagai.js.org/docs/api-reference/dom/#attachShadow)

### onConnected

Add a callback to be performed when the element is connected in the document. [Osagai docs](https://osagai.js.org/docs/api-reference/lifecycles/#onConnected)

#### Parameters

- `element` **OsagaiElement** Instance of the osagai element.
- `callback` **[Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** Function that will be perfomed when the element is connected.

### onDisconnected

Add a callback to be performed when the element is disconnected from the document. [Osagai docs](https://osagai.js.org/docs/api-reference/lifecycles/#onDisconnected)

#### Parameters

- `element` **OsagaiElement** Instance of the osagai element.
- `callback` **[Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** Function that will be perfomed when the element is disconnected.

### onAttributeChanged

Add a callback to be performed when one of the attribute from the observedAttributeslist is added, changed or removed. [Osagai docs](https://osagai.js.org/docs/api-reference/lifecycles/#onAttributeChanged)

#### Parameters

- `element` **OsagaiElement** Instance of the osagai element.
- `callback` **[Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** Function that will be runned with an object with the information of the attribute changed. (name, current, old)
